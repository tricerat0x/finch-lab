{% extends 'base.html' %}

{% block content %}
<h1>Finch Details</h1>

<div class="card">
  <div class="card-content">
    <span class="card-title">{{ finch.name }}</span>
    <p>Breed: {{ finch.breed }}</p>
    <p>Description: {{ finch.description|linebreaks }}</p>
    {% if finch.age > 0 %}
      <p>Age: {{ finch.age }}</p>
    {% else %}
      <p>Age: Not specified</p> 
    {% endif %}
  </div>
  <div class="card-action">
    <a href="{% url 'finches_update' finch.id %}">Edit</a>
    <a href="{% url 'finches_delete' finch.id %}">Delete</a>
  </div>
</div>

<h2>Feedings</h2>
<ul>
    {% for feeding in finch.feedings.all %}  
        <li>{{ feeding.meal }} on {{ feeding.date }}</li>
    {% empty %}
        <li>No feedings yet.</li>
    {% endfor %}
</ul>

<h2>Add a New Feeding</h2>
<form method="post" action="{% url 'add_feeding' finch.id %}">
    {% csrf_token %}
    {{ feeding_form.as_p }}
    <button type="submit">Add Feeding</button>
</form>

{% endblock %}
